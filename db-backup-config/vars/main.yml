---

##########################################################
#       PostgreSQL configuration Files and dirs paths    #
#########################################################
postgresql_config_dir: "/etc/postgresql/{{ postgres_version }}/main"
postgresql_data_dir: "/var/lib/postgresql/{{ postgres_version }}/main"

# pgBackRest configuration
pgbackrest_config_dir: "/etc/pgbackrest"
pgbackrest_repo_path: "{{ lookup('env','PGBACKREST_REPO_PATH') | default('/var/lib/pgbackrest', true) }}"
pgbackrest_stanza: "citus_cluster"

# S3 configuration
pgbackrest_s3_endpoint: "{{ lookup('env','PGBACKREST_S3_ENDPOINT') | default('https://s3.amazonaws.com', true) }}"
pgbackrest_s3_bucket: "{{ lookup('env','PGBACKREST_S3_BUCKET') | default('my-citus-backups', true) }}"
pgbackrest_s3_region: "{{ lookup('env','PGBACKREST_S3_REGION') | default('us-east-1', true) }}"
pgbackrest_s3_access_key: "{{ lookup('env','PGBACKREST_S3_ACCESS_KEY') | default('my-access-key', true) }}"
pgbackrest_s3_secret_key: "{{ lookup('env','PGBACKREST_S3_SECRET_KEY') | default('my-secret-key', true) }}"

# Slack notification configuration
slack_webhook_url: "{{ lookup('env','SLACK_WEBHOOK_URL') | default('', true) }}"
slack_channel: "{{ lookup('env','SLACK_CHANNEL') | default('#devops-alerts', true) }}"

# Notification settings
notify_on_success: "{{ lookup('env','NOTIFY_ON_SUCCESS') | default('true', true) | bool }}"
notify_on_failure: "{{ lookup('env','NOTIFY_ON_FAILURE') | default('true', true) | bool }}"